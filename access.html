<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תפריט מסעדה איטלקית - נגיש</title>
    <style>
        /* סגנון בסיסי */
        :root {
            --main-bg-color: #fff;
            --main-text-color: #333;
            --main-accent-color: #8a2be2;
            --header-bg-color: #4a6741;
            --header-text-color: #fff;
            --focus-color: #ff6347;
            --font-size-base: 16px;
            --order-bg-color: #f8f8f8;
            --chat-bg-color: #f8f8f8;
            --chat-primary-color: #4a6741;
            --chat-secondary-color: #8a2be2;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--main-bg-color);
            color: var(--main-text-color);
            line-height: 1.6;
            padding: 0;
            margin: 0;
            font-size: var(--font-size-base);
        }

        header {
            background-color: var(--header-bg-color);
            color: var(--header-text-color);
            text-align: center;
            padding: 2rem 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        h1 {
            margin-bottom: 0.5rem;
            font-size: 2.5rem;
        }

        h2 {
            color: var(--main-accent-color);
            margin: 1.5rem 0 1rem;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--main-accent-color);
            padding-bottom: 0.5rem;
        }

        h3 {
            margin: 1rem 0;
            font-size: 1.4rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem 4rem;
            display: flex;
            flex-direction: row-reverse; /* RTL layout - menu on right, order on left */
            gap: 2rem;
            position: relative;
        }

        .menu-container {
            flex: 1;
        }

        .menu-section {
            margin-bottom: 3rem;
        }

        .menu-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border-radius: 5px;
            border-left: 4px solid var(--main-accent-color);
            background-color: rgba(238, 238, 238, 0.3);
            position: relative;
        }

        .menu-item:focus-within {
            box-shadow: 0 0 0 3px var(--focus-color);
        }

        .menu-item h3 {
            margin-top: 0;
            display: flex;
            justify-content: space-between;
        }

        .price {
            font-weight: bold;
            color: var(--main-accent-color);
        }

        .description {
            margin: 0.5rem 0;
        }

        .allergens {
            font-style: italic;
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 1rem;
        }

        /* כפתור הוספה להזמנה */
        .add-to-order {
            background-color: var(--main-accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
            display: block;
        }

        .add-to-order:hover {
            background-color: #7623c9;
        }

        .add-to-order:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--focus-color);
        }

        /* אזור סיכום הזמנה */
        .order-summary {
            width: 300px;
            background-color: var(--order-bg-color);
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }

        .order-summary h2 {
            margin-top: 0;
            border-bottom: 2px solid var(--main-accent-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .order-items {
            margin-bottom: 1.5rem;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px dotted #ddd;
        }

        .order-item-name {
            flex: 1;
        }

        .order-item-quantity {
            margin: 0 1rem;
            font-weight: bold;
        }

        .order-item-price {
            font-weight: bold;
            min-width: 60px;
            text-align: left;
        }

        .order-item-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }

        .quantity-btn:hover {
            background-color: #e0e0e0;
        }
        
        .remove-item {
            background-color: #ff6347;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .order-total {
            border-top: 2px solid var(--main-accent-color);
            padding-top: 1rem;
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
        }

        .checkout-btn {
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 1rem;
            cursor: pointer;
            font-weight: bold;
            margin-top: 1rem;
            width: 100%;
            font-size: 1.1rem;
        }

        .checkout-btn:hover {
            background-color: #218838;
        }

        .checkout-btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--focus-color);
        }

        .empty-order {
            font-style: italic;
            color: #777;
            text-align: center;
            margin: 2rem 0;
        }

        /* כפתור נגישות */
        .accessibility-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
            background-color: var(--main-accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }

        .accessibility-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--focus-color), 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* תפריט נגישות */
        .accessibility-menu {
            position: fixed;
            bottom: 90px;
            left: 20px;
            z-index: 99;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            width: 280px;
            padding: 1rem;
            display: none;
        }

        .accessibility-menu.visible {
            display: block;
        }

        .accessibility-menu h3 {
            margin-top: 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .accessibility-control {
            margin-bottom: 1rem;
        }
         /* אלמנט קריאת מסך */
         .screen-reader-text {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .accessibility-control label {
            display: block;
            margin-bottom: 0.5rem;
        }

        .accessibility-control button {
            background-color: #f2f2f2;
            border: 1px solid #ddd;
            padding: 0.5rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            border-radius: 3px;
        }

        .accessibility-control button:hover {
            background-color: #e9e9e9;
        }

        .accessibility-control button:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--focus-color);
        }

        .accessibility-control button.active {
            background-color: var(--main-accent-color);
            color: white;
            border-color: var(--main-accent-color);
        }

        /* מצבי ניגודיות */
        body.high-contrast {
            --main-bg-color: #000;
            --main-text-color: #fff;
            --header-bg-color: #222;
            --header-text-color: #fff;
            --main-accent-color: #ffff00;
            --order-bg-color: #222;
            --chat-bg-color: #222;
        }

        body.light-contrast {
            --main-bg-color: #fff;
            --main-text-color: #000;
            --header-bg-color: #eee;
            --header-text-color: #000;
            --main-accent-color: #0000ff;
            --order-bg-color: #eee;
            --chat-bg-color: #eee;
        }

        /* הגדלת גופן */
        body.font-large {
            --font-size-base: 20px;
        }

        body.font-larger {
            --font-size-base: 24px;
        }

        body.font-largest {
            --font-size-base: 28px;
        }

        /* פוקוס מודגש */
        .focus-highlight *:focus {
            outline: 3px solid var(--focus-color) !important;
            outline-offset: 3px;
        }

        /* מצב הקראה */
        .reading-highlight {
            background-color: rgba(255, 255, 0, 0.3);
        }

        /* אלמנט קריאת מסך */
        .screen-reader-text {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* התאמות מובייל */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .order-summary {
                width: 100%;
                position: static;
                margin-bottom: 2rem;
            }
            
            .chat-widget {
                width: 100%;
                height: 300px;
                right: 0;
                left: 0;
                bottom: 0;
                top: auto;
                border-radius: 0;
            }
            
            .chat-widget.chat-minimized {
                height: 50px;
            }
            
            .chat-toggle {
                bottom: 20px;
                right: 20px;
            }
        }
        
        /* ============ אזור הצ'אט ============ */
        .chat-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background-color: var(--chat-primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            transition: all 0.3s ease;
        }
        
        .chat-toggle:hover {
            transform: scale(1.1);
        }
        
        .chat-toggle:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--focus-color), 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .chat-widget {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 999;
            width: 350px;
            height: 500px;
            background-color: var(--chat-bg-color);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
        }
        
        .chat-widget.chat-visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .chat-widget.chat-minimized {
            height: 60px;
        }
        
        .chat-header {
            background-color: var(--chat-primary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .chat-header h3 {
            margin: 0;
            font-size: 1.2rem;
        }
        
        .chat-controls {
            display: flex;
        }
        
        .chat-control-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            margin-right: 10px;
            padding: 0;
        }
        
        .chat-control-button:last-child {
            margin-right: 0;
        }
        
        .chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        .chat-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            margin-bottom: 10px;
            word-wrap: break-word;
        }
        
        .chat-message.bot-message {
            align-self: flex-start;
            background-color: #f0f0f0;
            border-bottom-left-radius: 5px;
        }
        
        .chat-message.user-message {
            align-self: flex-end;
            background-color: var(--chat-secondary-color);
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .chat-input-container {
            display: flex;
            padding: 10px;
            background-color: white;
            border-top: 1px solid #eee;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 1rem;
            resize: none;
            height: 40px;
            max-height: 120px;
            overflow-y: auto;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--chat-secondary-color);
        }
        
        .chat-send {
            background-color: var(--chat-primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 0;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .chat-send:hover {
            background-color: var(--chat-secondary-color);
        }
        
        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
            padding: 0 10px 10px;
        }
        
        .chat-suggestion {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 5px 12px;
            font-size: 0.9rem;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        
        .chat-suggestion:hover {
            background-color: var(--chat-secondary-color);
            color: white;
            border-color: var(--chat-secondary-color);
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px 15px;
            background-color: #f0f0f0;
            border-radius: 15px;
            margin-bottom: 10px;
            align-self: flex-start;
            width: 60px;
            justify-content: center;
        }
        
        .typing-indicator span {
            width: 8px;
            height: 8px;
            background-color: #888;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: typing 1.4s infinite both;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
            100% {
                transform: translateY(0);
            }
        }

        /* סגנונות לחלונית תמונה */
.image-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: auto;
}

.modal-content {
    background-color: var(--main-bg-color);
    margin: 10% auto;
    padding: 20px;
    border-radius: 8px;
    width: 80%;
    max-width: 600px;
    position: relative;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    animation: modalFadeIn 0.3s;
}

@keyframes modalFadeIn {
    from {opacity: 0; transform: translateY(-20px);}
    to {opacity: 1; transform: translateY(0);}
}

.close-modal {
    position: absolute;
    top: 10px;
    left: 10px; /* בצד שמאל עבור עברית */
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.close-modal:hover,
.close-modal:focus {
    color: var(--main-accent-color);
    text-decoration: none;
    background-color: #f0f0f0;
}

.modal-title {
    text-align: center;
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--main-accent-color);
}

.modal-image-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 15px;
}

.modal-image {
    max-width: 100%;
    max-height: 300px;
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.modal-description {
    text-align: center;
    margin-bottom: 0;
}

/* הוספת סגנון hover למנות בתפריט להמחשת אינטראקטיביות */
.menu-item {
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

.menu-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

body.high-contrast .image-modal {
    background-color: rgba(255, 255, 255, 0.9);
}

body.high-contrast .modal-content {
    background-color: #000;
    border: 2px solid #fff;
}
    </style>
</head>
<body>
    <header>
        <h1>לה פיאצה - מסעדה איטלקית</h1>
        <p>חוויה איטלקית אותנטית במרכז הארץ</p>
    </header>

    <div class="container">
        <div class="menu-container">
            <section class="menu-section" id="appetizers">
                <h2 tabindex="0">מנות ראשונות</h2>

                <article class="menu-item" tabindex="0">
                    <h3>ברוסקטה עגבניות <span class="price">₪35</span></h3>
                    <p class="description">פרוסות לחם קלוי עם עגבניות טריות, שום, בזיליקום ושמן זית</p>
                    <p class="allergens">מכיל: גלוטן</p>
                    <button class="add-to-order" aria-label="הוסף ברוסקטה עגבניות להזמנה" data-name="ברוסקטה עגבניות" data-price="35">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>קרפצ'יו בקר <span class="price">₪58</span></h3>
                    <p class="description">פרוסות דקיקות של בשר בקר טרי עם רוקט, פרמז'ן ובלסמי מצומצם</p>
                    <p class="allergens">מכיל: חלב</p>
                    <button class="add-to-order" aria-label="הוסף קרפצ'יו בקר להזמנה" data-name="קרפצ'יו בקר" data-price="58">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>סלט קפרזה <span class="price">₪48</span></h3>
                    <p class="description">עגבניות שמש, מוצרלה באפלו, בזיליקום טרי ושמן זית</p>
                    <p class="allergens">מכיל: חלב</p>
                    <button class="add-to-order" aria-label="הוסף סלט קפרזה להזמנה" data-name="סלט קפרזה" data-price="48">הוסף להזמנה</button>
                </article>
            </section>

            <section class="menu-section" id="pasta">
                <h2 tabindex="0">פסטות</h2>

                <article class="menu-item" tabindex="0">
                    <h3>ספגטי בולונז <span class="price">₪62</span></h3>
                    <p class="description">ספגטי ברוטב עגבניות עשיר עם בשר בקר טחון</p>
                    <p class="allergens">מכיל: גלוטן, סויה</p>
                    <button class="add-to-order" aria-label="הוסף ספגטי בולונז להזמנה" data-name="ספגטי בולונז" data-price="62">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>פטוצ'יני אלפרדו <span class="price">₪68</span></h3>
                    <p class="description">פטוצ'יני ברוטב שמנת עם פטריות ופרמז'ן</p>
                    <p class="allergens">מכיל: גלוטן, חלב</p>
                    <button class="add-to-order" aria-label="הוסף פטוצ'יני אלפרדו להזמנה" data-name="פטוצ'יני אלפרדו" data-price="68">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>ניוקי רוזה <span class="price">₪72</span></h3>
                    <p class="description">כריות תפוחי אדמה רכות ברוטב עגבניות ושמנת</p>
                    <p class="allergens">מכיל: גלוטן, חלב, ביצים</p>
                    <button class="add-to-order" aria-label="הוסף ניוקי רוזה להזמנה" data-name="ניוקי רוזה" data-price="72">הוסף להזמנה</button>
                </article>
            </section>

            <section class="menu-section" id="pizza">
                <h2 tabindex="0">פיצות</h2>

                <article class="menu-item" tabindex="0">
                    <h3>מרגריטה <span class="price">₪48</span></h3>
                    <p class="description">רוטב עגבניות, מוצרלה ובזיליקום טרי</p>
                    <p class="allergens">מכיל: גלוטן, חלב</p>
                    <button class="add-to-order" aria-label="הוסף פיצה מרגריטה להזמנה" data-name="פיצה מרגריטה" data-price="48">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>פפרוני <span class="price">₪58</span></h3>
                    <p class="description">רוטב עגבניות, מוצרלה ונקניק פפרוני</p>
                    <p class="allergens">מכיל: גלוטן, חלב</p>
                    <button class="add-to-order" aria-label="הוסף פיצה פפרוני להזמנה" data-name="פיצה פפרוני" data-price="58">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>פונגי <span class="price">₪56</span></h3>
                    <p class="description">רוטב שמנת, מוצרלה, פטריות מוקפצות ועשבי תיבול</p>
                    <p class="allergens">מכיל: גלוטן, חלב</p>
                    <button class="add-to-order" aria-label="הוסף פיצה פונגי להזמנה" data-name="פיצה פונגי" data-price="56">הוסף להזמנה</button>
                </article>
            </section>

            <section class="menu-section" id="desserts">
                <h2 tabindex="0">קינוחים</h2>

                <article class="menu-item" tabindex="0">
                    <h3>טירמיסו <span class="price">₪38</span></h3>
                    <p class="description">שכבות של ביסקוויטים ספוגים בקפה וקרם מסקרפונה</p>
                    <p class="allergens">מכיל: גלוטן, חלב, ביצים</p>
                    <button class="add-to-order" aria-label="הוסף טירמיסו להזמנה" data-name="טירמיסו" data-price="38">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>פנקוטה <span class="price">₪36</span></h3>
                    <p class="description">קרם שמנת עם וניל, מוגש עם רוטב פירות יער</p>
                    <p class="allergens">מכיל: חלב, ג'לטין</p>
                    <button class="add-to-order" aria-label="הוסף פנקוטה להזמנה" data-name="פנקוטה" data-price="36">הוסף להזמנה</button>
                </article>

                <article class="menu-item" tabindex="0">
                    <h3>קנולי <span class="price">₪34</span></h3>
                    <p class="description">גלילי בצק פריך ממולאים בקרם ריקוטה ושוקולד</p>
                    <p class="allergens">מכיל: גלוטן, חלב, אגוזים</p>
                    <button class="add-to-order" aria-label="הוסף קנולי להזמנה" data-name="קנולי" data-price="34">הוסף להזמנה</button>
                </article>
            </section>
        </div>

        <!-- אזור סיכום הזמנה -->
        <aside class="order-summary">
            <h2>ההזמנה שלך</h2>
            <div class="order-items" id="order-items">
                <p class="empty-order" id="empty-order">טרם הוספת פריטים להזמנה</p>
                <!-- פריטי ההזמנה יתווספו כאן דינמית -->
            </div>
            <div class="order-total">
                <span>סה"כ:</span>
                <span id="total-amount">₪0</span>
            </div>
            <button class="checkout-btn" id="checkout-btn" disabled>שלח הזמנה למטבח</button>
        </aside>
    </div>

    <!-- כפתור נגישות -->
    <button class="accessibility-button" aria-label="פתח תפריט נגישות" aria-expanded="false" id="accessibility-toggle">
        <span aria-hidden="true">👁️</span>
    </button>

    <!-- תפריט נגישות -->
    <div class="accessibility-menu" id="accessibility-menu">
        <h3>הגדרות נגישות</h3>
        <div class="accessibility-control">
            <label for="screen-reader">הקראה של הדף</label>
            <button id="screen-reader" aria-pressed="false">הפעל הקראה</button>
        </div>


        <div class="accessibility-control">
            <label>ניגודיות:</label>
            <button id="contrast-normal" class="active">רגילה</button>
            <button id="contrast-high">גבוהה</button>
            <button id="contrast-light">בהירה</button>
        </div>

        <div class="accessibility-control">
            <label>גודל טקסט:</label>
            <button id="font-normal" class="active">רגיל</button>
            <button id="font-large">גדול</button>
            <button id="font-larger">גדול יותר</button>
            <button id="font-largest">גדול מאוד</button>
        </div>

        <div class="accessibility-control">
            <label>הדגשת פוקוס:</label>
            <button id="focus-normal" class="active">רגילה</button>
            <button id="focus-high">מודגשת</button>
        </div>
    </div>

    <!-- כפתור צ'אט -->
    <button class="chat-toggle" aria-label="פתח צ'אט תמיכה" aria-expanded="false" id="chat-toggle">
        <span aria-hidden="true">💬</span>
    </button>

    <!-- אזור הצ'אט -->
    <div class="chat-widget" id="chat-widget">
        <div class="chat-header" id="chat-header">
            <h3>תמיכה בהזמנה</h3>
            <div class="chat-controls">
                <button class="chat-control-button" id="chat-minimize" aria-label="מזער צ'אט">
                    <span aria-hidden="true">-</span>
                </button>
                <button class="chat-control-button" id="chat-close" aria-label="סגור צ'אט">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="chat-message bot-message">
                שלום! איך אוכל לעזור לך בהזמנה?
            </div>
        </div>
        <div class="chat-suggestions">
            <div class="chat-suggestion" tabindex="0">האם יש מנות טבעוניות?</div>
            <div class="chat-suggestion" tabindex="0">מה מנת הדגל שלכם?</div>
            <div class="chat-suggestion" tabindex="0">מהם זמני המשלוח?</div>
        </div>
        <div class="chat-input-container">
            <textarea class="chat-input" id="chat-input" placeholder="כתבו את הודעתכם כאן..." rows="1" aria-label="כתוב הודעה"></textarea>
            <button class="chat-send" id="chat-send" aria-label="שלח הודעה">
                <span aria-hidden="true">➤</span>
            </button>
        </div>
    </div>

    <!-- חלונית תצוגת תמונה -->
<div id="image-modal" class="image-modal">
    <div class="modal-content">
        <span class="close-modal" id="close-modal" aria-label="סגור תמונה">&times;</span>
        <h3 id="modal-title" class="modal-title"></h3>
        <div class="modal-image-container">
            <img id="modal-image" src="" alt="" class="modal-image">
        </div>
        <p id="modal-description" class="modal-description"></p>
    </div>
</div>

    <div aria-live="polite" class="screen-reader-text" id="screen-reader-output"></div>

    <script>
        // ================= קוד JavaScript - נגישות =================
        document.addEventListener('DOMContentLoaded', function() {
            // המתנה לטעינת הדף

            // ====== משתנים גלובליים ======
            const accessibilityToggle = document.getElementById('accessibility-toggle');
            const accessibilityMenu = document.getElementById('accessibility-menu');
            const chatToggle = document.getElementById('chat-toggle');
            const chatWidget = document.getElementById('chat-widget');
            const chatMinimize = document.getElementById('chat-minimize');
            const chatClose = document.getElementById('chat-close');
            const chatInput = document.getElementById('chat-input');
            const chatSend = document.getElementById('chat-send');
            const chatBody = document.getElementById('chat-body');
            const chatHeader = document.getElementById('chat-header');
            const chatSuggestions = document.querySelectorAll('.chat-suggestion');

            // נגישות כפתורים
            const contrastButtons = {
                normal: document.getElementById('contrast-normal'),
                high: document.getElementById('contrast-high'),
                light: document.getElementById('contrast-light')
            };

            const fontButtons = {
                normal: document.getElementById('font-normal'),
                large: document.getElementById('font-large'),
                larger: document.getElementById('font-larger'),
                largest: document.getElementById('font-largest')
            };

              // הקראה של הדף
              let isReading = false;
            let currentElement = null;
            let elementQueue = [];
            const screenReaderOutput = document.getElementById('screen-reader-output');
            const screenReaderButton = document.getElementById('screen-reader');
            let speechSynthesis = window.speechSynthesis;
            let utterance = null;

            screenReaderButton.addEventListener('click', function() {
                isReading = !isReading;
                this.textContent = isReading ? 'הפסק הקראה' : 'הפעל הקראה';
                this.setAttribute('aria-pressed', isReading);

                if (isReading) {
                    // התחלת הקראה
                    elementQueue = Array.from(document.querySelectorAll('h1, h2, h3, p:not(.screen-reader-text)'));
                    readNextElement();
                } else {
                    // הפסקת הקראה
                    if (speechSynthesis && utterance) {
                        speechSynthesis.cancel();
                    }
                    
                    if (currentElement) {
                        currentElement.classList.remove('reading-highlight');
                    }
                    screenReaderOutput.textContent = '';
                }
                saveAccessibilitySettings();
            });

            function readNextElement() {
                if (!isReading || elementQueue.length === 0) {
                    isReading = false;
                    screenReaderButton.textContent = 'הפעל הקראה';
                    screenReaderButton.setAttribute('aria-pressed', 'false');
                    return;
                }

                if (currentElement) {
                    currentElement.classList.remove('reading-highlight');
                }

                currentElement = elementQueue.shift();
                currentElement.classList.add('reading-highlight');
                currentElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                const textToRead = currentElement.textContent.trim();
                screenReaderOutput.textContent = textToRead;

                // שימוש ב-Web Speech API להקראה אמיתית
                if (speechSynthesis) {
                    // ביטול הקראה קודמת אם קיימת
                    speechSynthesis.cancel();
                    
                    utterance = new SpeechSynthesisUtterance(textToRead);
                    
                    // הגדרת שפה לעברית
                    utterance.lang = 'he-IL';
                    
                    // בחירת קול בעברית אם קיים
                    const voices = speechSynthesis.getVoices();
                    const hebrewVoice = voices.find(voice => voice.lang === 'he-IL');
                    if (hebrewVoice) {
                        utterance.voice = hebrewVoice;
                    }
                    
                    // כאשר ההקראה מסתיימת, עובר לאלמנט הבא
                    utterance.onend = function() {
                        setTimeout(readNextElement, 500); // מעבר לאלמנט הבא אחרי חצי שנייה
                    };
                    
                    // התחלת ההקראה
                    speechSynthesis.speak(utterance);
                } else {
                    // אם Web Speech API לא נתמך, נחזור לסימולציה
                    setTimeout(readNextElement, Math.max(1000, textToRead.length * 50));
                }
            }
            const focusButtons = {
                normal: document.getElementById('focus-normal'),
                high: document.getElementById('focus-high')
            };

            // מצב תפריט נגישות
            let accessibilityMenuOpen = false;
            let chatOpen = false;
            let chatMinimized = false;

            // ====== ניהול תפריט הנגישות ======
            accessibilityToggle.addEventListener('click', function() {
                accessibilityMenuOpen = !accessibilityMenuOpen;
                accessibilityMenu.classList.toggle('visible', accessibilityMenuOpen);
                accessibilityToggle.setAttribute('aria-expanded', accessibilityMenuOpen);
                
                // אם התפריט פתוח, מתמקדים בו
                if (accessibilityMenuOpen) {
                    accessibilityMenu.querySelector('h3').focus();
                }
            });

            // סגירת תפריט נגישות כשלוחצים מחוצה לו
            document.addEventListener('click', function(event) {
                if (accessibilityMenuOpen && 
                    !accessibilityMenu.contains(event.target) && 
                    event.target !== accessibilityToggle) {
                    accessibilityMenuOpen = false;
                    accessibilityMenu.classList.remove('visible');
                    accessibilityToggle.setAttribute('aria-expanded', 'false');
                }
            });

            // ====== ניהול רמת ניגודיות ======
            contrastButtons.normal.addEventListener('click', function() {
                document.body.classList.remove('high-contrast', 'light-contrast');
                setActiveButton(contrastButtons, 'normal');
            });

            contrastButtons.high.addEventListener('click', function() {
                document.body.classList.add('high-contrast');
                document.body.classList.remove('light-contrast');
                setActiveButton(contrastButtons, 'high');
            });

            contrastButtons.light.addEventListener('click', function() {
                document.body.classList.add('light-contrast');
                document.body.classList.remove('high-contrast');
                setActiveButton(contrastButtons, 'light');
            });

            // ====== ניהול גודל טקסט ======
            fontButtons.normal.addEventListener('click', function() {
                document.body.classList.remove('font-large', 'font-larger', 'font-largest');
                setActiveButton(fontButtons, 'normal');
            });

            fontButtons.large.addEventListener('click', function() {
                document.body.classList.add('font-large');
                document.body.classList.remove('font-larger', 'font-largest');
                setActiveButton(fontButtons, 'large');
            });

            fontButtons.larger.addEventListener('click', function() {
                document.body.classList.add('font-larger');
                document.body.classList.remove('font-large', 'font-largest');
                setActiveButton(fontButtons, 'larger');
            });

            fontButtons.largest.addEventListener('click', function() {
                document.body.classList.add('font-largest');
                document.body.classList.remove('font-large', 'font-larger');
                setActiveButton(fontButtons, 'largest');
            });

            // ====== ניהול הדגשת פוקוס ======
            focusButtons.normal.addEventListener('click', function() {
                document.body.classList.remove('focus-highlight');
                setActiveButton(focusButtons, 'normal');
            });

            focusButtons.high.addEventListener('click', function() {
                document.body.classList.add('focus-highlight');
                setActiveButton(focusButtons, 'high');
            });

            // ====== ניהול הצ'אט ======
            chatToggle.addEventListener('click', function() {
                chatOpen = !chatOpen;
                chatWidget.classList.toggle('chat-visible', chatOpen);
                chatToggle.setAttribute('aria-expanded', chatOpen);
                
                if (chatOpen && chatMinimized) {
                    chatMinimized = false;
                    chatWidget.classList.remove('chat-minimized');
                }
                
                // אם הצ'אט נפתח, מתמקדים בשדה הקלט
                if (chatOpen) {
                    chatInput.focus();
                }
            });

            chatMinimize.addEventListener('click', function(e) {
                e.stopPropagation();
                chatMinimized = !chatMinimized;
                chatWidget.classList.toggle('chat-minimized', chatMinimized);
                
                if (!chatMinimized) {
                    chatInput.focus();
                }
            });

            chatClose.addEventListener('click', function(e) {
                e.stopPropagation();
                chatOpen = false;
                chatWidget.classList.remove('chat-visible');
                chatToggle.setAttribute('aria-expanded', 'false');
            });

            chatHeader.addEventListener('click', function() {
                if (chatMinimized) {
                    chatMinimized = false;
                    chatWidget.classList.remove('chat-minimized');
                    chatInput.focus();
                }
            });

            // שליחת הודעה בצ'אט
            function sendMessage() {
                const message = chatInput.value.trim();
                if (message) {
                    // הוסף הודעת משתמש
                    appendUserMessage(message);
                    chatInput.value = '';
                    
                    // הצג אינדיקטור הקלדה
                    showTypingIndicator();
                    
                    // סימולציה של תגובת בוט לאחר השהייה קצרה
                    setTimeout(function() {
                        removeTypingIndicator();
                        appendBotMessage(getBotResponse(message));
                    }, 1000);
                }
            }

            chatSend.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            // טיפול בהצעות צ'אט
            chatSuggestions.forEach(suggestion => {
                suggestion.addEventListener('click', function() {
                    appendUserMessage(this.textContent);
                    
                    showTypingIndicator();
                    
                    setTimeout(() => {
                        removeTypingIndicator();
                        appendBotMessage(getBotResponse(this.textContent));
                    }, 1000);
                });
                
                // עבור נגישות - אפשר להשתמש בהצעות גם עם מקלדת
                suggestion.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    }
                });
            });

            // אוטורסייז לטקסטאריה
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = (this.scrollHeight) + 'px';
            });

            // פונקציות עזר לצ'אט
            function appendUserMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'chat-message user-message';
                messageDiv.textContent = message;
                chatBody.appendChild(messageDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function appendBotMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'chat-message bot-message';
                messageDiv.textContent = message;
                chatBody.appendChild(messageDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function showTypingIndicator() {
                const indicator = document.createElement('div');
                indicator.className = 'typing-indicator';
                indicator.innerHTML = '<span></span><span></span><span></span>';
                indicator.id = 'typing-indicator';
                chatBody.appendChild(indicator);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function removeTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }

            function getBotResponse(message) {
                message = message.toLowerCase();
                
                if (message.includes('טבעוני') || message.includes('צמחוני')) {
                    return 'יש לנו מספר אפשרויות טבעוניות כמו פסטה ברוטב עגבניות וסלט ירוק. אפשר גם להתאים פיצה מרגריטה ללא גבינה.';
                } else if (message.includes('מנת דגל') || message.includes('מומלץ')) {
                    return 'מנת הדגל שלנו היא פטוצ\'יני אלפרדו שהשף שלנו מכין ברוטב מיוחד. פיצת הפפרוני שלנו גם מאוד פופולרית!';
                } else if (message.includes('משלוח') || message.includes('זמן')) {
                    return 'זמן המשלוח המשוער הוא 30-45 דקות, תלוי באזור. אנו מבטיחים שהמזון יגיע חם וטעים!';
                } else if (message.includes('אלרגיה') || message.includes('אלרגן')) {
                    return 'אנו מציינים את האלרגנים העיקריים ליד כל מנה. אנא ידעו אותנו על אלרגיות מיוחדות בהערות להזמנה.';
                } else if (message.includes('שעות') || message.includes('פתיחה')) {
                    return 'המסעדה פתוחה בימים א׳-ה׳ בין 12:00-23:00, בימי שישי 12:00-15:00, ובמוצ״ש משעה אחרי צאת השבת עד 23:00.';
                } else {
                    return 'תודה על פנייתך! אשמח לענות על כל שאלה נוספת. אפשר גם לפנות למספר 03-1234567 לפרטים נוספים.';
                }
            }

            // ====== ניהול הזמנה ======
            const addToOrderButtons = document.querySelectorAll('.add-to-order');
            const orderItemsContainer = document.getElementById('order-items');
            const emptyOrderMessage = document.getElementById('empty-order');
            const totalAmountElement = document.getElementById('total-amount');
            const checkoutButton = document.getElementById('checkout-btn');
            
            let orderItems = {};
            let totalAmount = 0;

            // ====== ניהול חלונית תמונה ======
const imageModal = document.getElementById('image-modal');
const modalImage = document.getElementById('modal-image');
const modalTitle = document.getElementById('modal-title');
const modalDescription = document.getElementById('modal-description');
const closeModal = document.getElementById('close-modal');
const menuItems = document.querySelectorAll('.menu-item');

// מידע על התמונות
const itemImages = {
    'ברוסקטה עגבניות': {
        url: 'https://medias.hashulchan.co.il/www/uploads/2020/07/Untitled-Capture0559-600x600-1593939471.jpg',
        description: 'פרוסות לחם קלוי עם עגבניות טריות, שום, בזיליקום ושמן זית'
    },
    'קרפצ\'יו בקר': {
        url: 'https://img.haarets.co.il/bs/0000017f-dbdb-d3ff-a7ff-fbfbb7bc0000/dc/d1/efe7f053f5c1e262ce084ea44fe0/1925051628.jpg',
        description: 'פרוסות דקיקות של בשר בקר טרי עם רוקט, פרמז\'ן ובלסמי מצומצם'
    },
    'סלט קפרזה': {
        url: 'https://i.ytimg.com/vi/oy4kj2c0LhI/maxresdefault.jpg',
        description: 'עגבניות שמש, מוצרלה באפלו, בזיליקום טרי ושמן זית'
    },
    'ספגטי בולונז': {
        url: 'https://cdn.goodlifetv.co.il/wp-content/uploads/2021/10/09184603/750-Recovered-22.jpg',
        description: 'ספגטי ברוטב עגבניות עשיר עם בשר בקר טחון'
    },
    'פטוצ\'יני אלפרדו': {
        url: 'https://img.haarets.co.il/bs/00000190-b0d8-d96f-a1f6-ffd823c30000/b1/b3/70704d944d5eb175aaa2acc27847/78933.jpg?height=630&width=1200',
        description: 'פטוצ\'יני ברוטב שמנת עם פטריות ופרמז\'ן'
    },
    'ניוקי רוזה': {
        url: 'https://magashim.co.il/wp-content/uploads/2024/05/gnocce.webp',
        description: 'כריות תפוחי אדמה רכות ברוטב עגבניות ושמנת'
    },
    'פיצה מרגריטה': {
        url: 'https://cdn.goodlifetv.co.il/wp-content/uploads/2024/05/17160719/AdobeStock_456554373.jpg',
        description: 'רוטב עגבניות, מוצרלה ובזיליקום טרי'
    },
    'פיצה פפרוני': {
        url: 'https://source.unsplash.com/featured/?pizza,pepperoni',
        description: 'רוטב עגבניות, מוצרלה ונקניק פפרוני'
    },
    'פיצה פונגי': {
        url: 'https://source.unsplash.com/featured/?pizza,mushroom',
        description: 'רוטב שמנת, מוצרלה, פטריות מוקפצות ועשבי תיבול'
    },
    'טירמיסו': {
        url: 'https://source.unsplash.com/featured/?tiramisu',
        description: 'שכבות של ביסקוויטים ספוגים בקפה וקרם מסקרפונה'
    },
    'פנקוטה': {
        url: 'https://source.unsplash.com/featured/?panna,cotta',
        description: 'קרם שמנת עם וניל, מוגש עם רוטב פירות יער'
    },
    'קנולי': {
        url: 'https://source.unsplash.com/featured/?cannoli',
        description: 'גלילי בצק פריך ממולאים בקרם ריקוטה ושוקולד'
    }
};

// הוסף מאזיני אירועים לכל פריט בתפריט
menuItems.forEach(item => {
    // מאזין לחיצה על המנה (אך לא על הכפתור)
    item.addEventListener('click', function(event) {
        // בודק שהלחיצה לא הייתה על כפתור ההוספה להזמנה
        if (!event.target.classList.contains('add-to-order') && 
            !event.target.closest('.add-to-order')) {
            const itemName = item.querySelector('h3').innerText.split(' ')[0] + ' ' + item.querySelector('h3').innerText.split(' ')[1];
            openImageModal(itemName);
        }
    });
    
    // מאזין למקש Enter כשהמנה בפוקוס
    item.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' && !event.target.classList.contains('add-to-order')) {
            const itemName = item.querySelector('h3').innerText.split(' ')[0] + ' ' + item.querySelector('h3').innerText.split(' ')[1];
            openImageModal(itemName);
        }
    });
});

// פתיחת המודל עם התמונה הרלוונטית
function openImageModal(itemName) {
    // בדיקה אם יש תמונה למנה
    for (const key in itemImages) {
        if (itemName.includes(key) || key.includes(itemName)) {
            modalTitle.textContent = itemName;
            modalImage.src = itemImages[key].url;
            modalImage.alt = itemName;
            modalDescription.textContent = itemImages[key].description;
            
            imageModal.style.display = 'block';
            closeModal.focus();
            
            // הודעה לקורא מסך
            const screenReaderAlert = document.createElement('div');
            screenReaderAlert.className = 'screen-reader-text';
            screenReaderAlert.setAttribute('role', 'alert');
            screenReaderAlert.textContent = `נפתחה תמונה של ${itemName}`;
            document.body.appendChild(screenReaderAlert);
            setTimeout(() => screenReaderAlert.remove(), 1000);
            
            return;
        }
    }
    
    // אם לא נמצאה תמונה ספציפית
    modalTitle.textContent = itemName;
    modalImage.src = 'https://source.unsplash.com/featured/?italian,food';
    modalImage.alt = itemName;
    modalDescription.textContent = 'תמונה להמחשה בלבד';
    
    imageModal.style.display = 'block';
    closeModal.focus();
}

// סגירת המודל
closeModal.addEventListener('click', closeImageModal);

// סגירת המודל בלחיצה על Escape
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && imageModal.style.display === 'block') {
        closeImageModal();
    }
});

// סגירת המודל בלחיצה מחוץ לתוכן
imageModal.addEventListener('click', function(event) {
    if (event.target === imageModal) {
        closeImageModal();
    }
});

function closeImageModal() {
    imageModal.style.display = 'none';
    
    // העברת הפוקוס חזרה למנה שנלחצה
    const itemName = modalTitle.textContent;
    const menuItems = document.querySelectorAll('.menu-item');
    
    for (const item of menuItems) {
        const title = item.querySelector('h3').textContent;
        if (title.includes(itemName)) {
            item.focus();
            break;
        }
    }
}

            addToOrderButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const name = this.dataset.name;
                    const price = parseFloat(this.dataset.price);
                    
                    if (orderItems[name]) {
                        orderItems[name].quantity++;
                        orderItems[name].totalPrice += price;
                        const quantityElement = document.getElementById(`quantity-${name.replace(/\s+/g, '-')}`);
                        quantityElement.textContent = orderItems[name].quantity;
                    } else {
                        orderItems[name] = {
                            price: price,
                            quantity: 1,
                            totalPrice: price
                        };
                        addItemToOrderSummary(name);
                    }
                    
                    updateTotalAmount();
                    emptyOrderMessage.style.display = 'none';
                    checkoutButton.disabled = false;
                    
                    // אישור קולי עבור קוראי מסך
                    const screenReaderAlert = document.createElement('div');
                    screenReaderAlert.className = 'screen-reader-text';
                    screenReaderAlert.setAttribute('role', 'alert');
                    screenReaderAlert.textContent = `${name} התווסף להזמנה`;
                    document.body.appendChild(screenReaderAlert);
                    setTimeout(() => screenReaderAlert.remove(), 1000);
                });
            });

            function addItemToOrderSummary(name) {
                const sanitizedId = name.replace(/\s+/g, '-');
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                orderItem.id = `order-item-${sanitizedId}`;
                
                orderItem.innerHTML = `
                    <span class="order-item-name">${name}</span>
                    <div class="order-item-controls">
                        <button class="quantity-btn minus" aria-label="הפחת כמות ${name}" data-name="${name}">-</button>
                        <span class="order-item-quantity" id="quantity-${sanitizedId}">${orderItems[name].quantity}</span>
                        <button class="quantity-btn plus" aria-label="הוסף כמות ${name}" data-name="${name}">+</button>
                        <button class="remove-item" aria-label="הסר ${name} מההזמנה" data-name="${name}">✕</button>
                    </div>
                    <span class="order-item-price">₪${orderItems[name].totalPrice}</span>
                `;
                
                orderItemsContainer.appendChild(orderItem);
                
                // טיפול באירועים לכפתורי הגדלת והפחתת כמות
                const plusButton = orderItem.querySelector('.plus');
                const minusButton = orderItem.querySelector('.minus');
                const removeButton = orderItem.querySelector('.remove-item');
                
                plusButton.addEventListener('click', function() {
                    const name = this.dataset.name;
                    orderItems[name].quantity++;
                    orderItems[name].totalPrice += orderItems[name].price;
                    
                    document.getElementById(`quantity-${name.replace(/\s+/g, '-')}`).textContent = orderItems[name].quantity;
                    orderItem.querySelector('.order-item-price').textContent = `₪${orderItems[name].totalPrice}`;
                    updateTotalAmount();
                });
                
                minusButton.addEventListener('click', function() {
                    const name = this.dataset.name;
                    if (orderItems[name].quantity > 1) {
                        orderItems[name].quantity--;
                        orderItems[name].totalPrice -= orderItems[name].price;
                        
                        document.getElementById(`quantity-${name.replace(/\s+/g, '-')}`).textContent = orderItems[name].quantity;
                        orderItem.querySelector('.order-item-price').textContent = `₪${orderItems[name].totalPrice}`;
                        updateTotalAmount();
                    } else {
                        removeItemFromOrder(name);
                    }
                });
                
                removeButton.addEventListener('click', function() {
                    const name = this.dataset.name;
                    removeItemFromOrder(name);
                });
            }

            function removeItemFromOrder(name) {
                delete orderItems[name];
                const sanitizedId = name.replace(/\s+/g, '-');
                const orderItem = document.getElementById(`order-item-${sanitizedId}`);
                
                if (orderItem) {
                    orderItem.remove();
                }
                
                updateTotalAmount();
                
                // בדיקה אם ההזמנה ריקה
                if (Object.keys(orderItems).length === 0) {
                    emptyOrderMessage.style.display = 'block';
                    checkoutButton.disabled = true;
                }
                
                // אישור קולי עבור קוראי מסך
                const screenReaderAlert = document.createElement('div');
                screenReaderAlert.className = 'screen-reader-text';
                screenReaderAlert.setAttribute('role', 'alert');
                screenReaderAlert.textContent = `${name} הוסר מההזמנה`;
                document.body.appendChild(screenReaderAlert);
                setTimeout(() => screenReaderAlert.remove(), 1000);
            }

            function updateTotalAmount() {
                totalAmount = 0;
                for (const item in orderItems) {
                    totalAmount += orderItems[item].totalPrice;
                }
                
                totalAmountElement.textContent = `₪${totalAmount}`;
            }

            checkoutButton.addEventListener('click', function() {
                const confirmMessage = `הזמנתך התקבלה בהצלחה! הסכום לתשלום: ₪${totalAmount}`;
                alert(confirmMessage);
                
                // ניקוי ההזמנה
                orderItems = {};
                orderItemsContainer.innerHTML = '';
                orderItemsContainer.appendChild(emptyOrderMessage);
                emptyOrderMessage.style.display = 'block';
                totalAmountElement.textContent = '₪0';
                checkoutButton.disabled = true;
            });

            // פונקצית עזר - הגדרת כפתור פעיל
            function setActiveButton(buttonGroup, activeKey) {
                for (const key in buttonGroup) {
                    buttonGroup[key].classList.toggle('active', key === activeKey);
                }
            }
        });
    </script>
</body>
</html>
